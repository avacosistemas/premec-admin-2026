<div class="flex flex-col w-full">
    
    <div class="flex flex-col sm:flex-row w-full gap-4">
        <mat-card class="flex-1 flex flex-col min-w-0" [ngClass]="{'!border-red-500 border': errorMessage}">
            <mat-card-header class="border-b pb-3">
                <mat-card-title class="text-lg font-extrabold" [ngClass]="{'text-red-500': errorMessage}">{{ titleFrom }}</mat-card-title>
            </mat-card-header>

            <div class="p-4">
                <mat-form-field class="w-full" appearance="outline">
                    <mat-label>{{ 'picklist_filter_placeholder' | translate }}</mat-label>
                    <input
                        matInput
                        [value]="filterValue"
                        (keyup)="applyFilter($event)"
                        [disabled]="isDisabled"
                        placeholder="{{ 'picklist_filter_placeholder' | translate }}">
                    <mat-icon matSuffix [svgIcon]="'heroicons_outline:magnifying-glass'"></mat-icon>
                </mat-form-field>
            </div>

            <mat-card-content class="flex-auto overflow-y-auto max-h-[40vh]">
                <mat-selection-list #from [(ngModel)]="fromDataSelected" [disabled]="isDisabled">
                    <mat-list-option checkboxPosition="before" *ngFor="let data of availableItems" [value]="data">
                        {{ getNameElementList(data) }}
                    </mat-list-option>
                </mat-selection-list>
            </mat-card-content>
        </mat-card>

        <div class="flex flex-row sm:flex-col items-center justify-center gap-2 p-2">
            <button type="button" (click)="transferToAll()" mat-icon-button [disabled]="isDisabled || availableItems.length === 0" [matTooltip]="'picklist_add_all_tooltip' | translate">
                <mat-icon [svgIcon]="'heroicons_outline:chevron-double-right'"></mat-icon>
            </button>
            <button type="button" (click)="transferTo()" mat-icon-button [disabled]="isDisabled || fromDataSelected.length === 0" [matTooltip]="'picklist_add_selected_tooltip' | translate">
                <mat-icon [svgIcon]="'heroicons_outline:chevron-right'"></mat-icon>
            </button>
            <button type="button" (click)="transferFrom()" mat-icon-button [disabled]="isDisabled || toDataSelected.length === 0" [matTooltip]="'picklist_remove_selected_tooltip' | translate">
                <mat-icon [svgIcon]="'heroicons_outline:chevron-left'"></mat-icon>
            </button>
            <button type="button" (click)="transferFromAll()" mat-icon-button [disabled]="isDisabled || selectedItems.length === 0" [matTooltip]="'picklist_remove_all_tooltip' | translate">
                <mat-icon [svgIcon]="'heroicons_outline:chevron-double-left'"></mat-icon>
            </button>
        </div>

        <mat-card class="flex-1 flex flex-col min-w-0" [ngClass]="{'!border-red-500 border': errorMessage}">
            <mat-card-header class="border-b pb-3">
                <mat-card-title class="text-lg font-extrabold" [ngClass]="{'text-red-500': errorMessage}">{{ titleTo }}</mat-card-title>
            </mat-card-header>

            <mat-card-content class="flex-auto overflow-y-auto max-h-[40vh]">
                <mat-selection-list #to [(ngModel)]="toDataSelected" [disabled]="isDisabled">
                    <mat-list-option checkboxPosition="before" *ngFor="let data of selectedItems" [value]="data">
                        {{ getNameElementList(data) }}
                    </mat-list-option>
                </mat-selection-list>
            </mat-card-content>
        </mat-card>
    </div>

    <div *ngIf="errorMessage" class="text-xs text-red-500 mt-1 pl-1">
        {{ errorMessage }}
    </div>

</div>