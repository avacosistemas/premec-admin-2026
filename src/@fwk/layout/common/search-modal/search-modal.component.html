<div class="flex flex-col max-h-[90vh] bg-card dark:bg-gray-800 rounded-lg overflow-hidden">

    <!-- Header con Input de BÃºsqueda -->
    <div class="flex items-center p-4 border-b border-gray-200 dark:border-gray-700">
        <mat-icon class="mr-3 text-gray-400" [svgIcon]="'heroicons_outline:magnifying-glass'"></mat-icon>
        <input #searchInput class="w-full h-10 bg-transparent border-0 focus:ring-0 text-lg"
            [formControl]="searchControl" [placeholder]="'search_placeholder_modal' | translate" autocomplete="off">
        <button mat-icon-button (click)="closeModal()" class="-mr-2">
            <mat-icon [svgIcon]="'heroicons_outline:x-mark'"></mat-icon>
        </button>
    </div>

    <!-- Resultados -->
    <mat-dialog-content class="flex-auto overflow-y-auto p-0">
        <div *ngIf="results$ | async as results" class="divide-y divide-gray-200 dark:divide-gray-700">
            <ng-container *ngIf="results.length > 0; else noResultsTemplate">
                <a mat-list-item *ngFor="let result of results" (click)="navigateTo(result)"
                    class="!h-auto cursor-pointer dark:hover:bg-gray-700/50 flex hover:bg-gray-50 items-center px-6 py-3 w-full">
                    <div class="flex flex-col w-full">
                        <div class="text-xs text-secondary tracking-wider uppercase">
                            <ng-container *ngFor="let item of result.breadcrumb; let isLast = last">
                                <span>{{ item }}</span>
                                <span *ngIf="!isLast" class="mx-1.5 opacity-50">/</span>
                            </ng-container>
                        </div>
                        <div class="text-2xl font-medium">
                            {{ result.title }}
                        </div>
                    </div>
                </a>
            </ng-container>

            <ng-template #noResultsTemplate>
                <div *ngIf="searchControl.value && searchControl.value.length >= 2"
                    class="flex flex-col items-center justify-center p-16 text-center">
                    <mat-icon class="icon-size-16 text-gray-400"
                        [svgIcon]="'heroicons_outline:document-magnifying-glass'"></mat-icon>
                    <p class="mt-4 text-lg font-medium">{{ 'search_no_results' | translate }}</p>
                    <p class="text-secondary mt-1">{{ 'search_no_results_subtitle' | translate }}</p>
                </div>
            </ng-template>
        </div>
    </mat-dialog-content>
</div>