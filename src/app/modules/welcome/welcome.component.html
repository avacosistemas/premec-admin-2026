<div class="flex flex-col flex-auto min-w-0" *ngIf="user$ | async as user">
    <div class="flex-auto p-6 sm:p-8">

        <div class="welcome-hero relative p-8 sm:p-12 rounded-2xl shadow-sm overflow-hidden bg-gradient-to-tr from-primary-50 via-white to-secondary-50 dark:from-gray-800 dark:via-gray-900">
            <div class="relative z-10">
                <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight text-gray-800 dark:text-gray-100">
                    ¡Hola {{ user.name }}!
                </h1>
                <p class="mt-3 text-lg md:text-xl text-secondary max-w-2xl">
                    Bienvenido al panel de administración de PREMEC. <br/>¿Qué te gustaría hacer hoy?
                </p>
            </div>
        </div>

        <div class="mt-12">

            <ng-container *ngFor="let section of sections; let first = first">

                <h2 class="text-2xl font-bold tracking-tight text-secondary transition-all duration-300 ease-in-out" [class.mt-12]="!first">
                    {{ section.title }}
                </h2>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-6">

                    <a *ngFor="let card of section.items" [routerLink]="[card.route]"
                        class="welcome-card bg-card p-6 rounded-xl shadow transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1 flex flex-col items-start">

                        <div class="flex items-center justify-center w-12 h-12 rounded-full" 
                             [ngClass]="{
                                'bg-primary-100 dark:bg-primary-500/20': card.color === 'primary',
                                'bg-teal-100 dark:bg-teal-500/20': card.color === 'teal',
                                'bg-purple-100 dark:bg-purple-500/20': card.color === 'purple',
                                'bg-orange-100 dark:bg-orange-500/20': card.color === 'orange',
                                'bg-sky-100 dark:bg-sky-500/20': card.color === 'sky',
                                'bg-rose-100 dark:bg-rose-500/20': card.color === 'rose',
                                'bg-indigo-100 dark:bg-indigo-500/20': card.color === 'indigo',
                                'bg-blue-100 dark:bg-blue-500/20': card.color === 'blue',
                                'bg-amber-100 dark:bg-amber-500/20': card.color === 'amber',
                                'bg-green-100 dark:bg-green-500/20': card.color === 'green',
                                'bg-cyan-100 dark:bg-cyan-500/20': card.color === 'cyan',
                                'bg-emerald-100 dark:bg-emerald-500/20': card.color === 'emerald',
                                'bg-slate-100 dark:bg-slate-500/20': card.color === 'slate'
                             }">

                            <mat-icon [svgIcon]="card.icon" 
                                      [ngClass]="{
                                        'text-primary-600 dark:text-primary-400': card.color === 'primary',
                                        'text-teal-600 dark:text-teal-400': card.color === 'teal',
                                        'text-purple-600 dark:text-purple-400': card.color === 'purple',
                                        'text-orange-600 dark:text-orange-400': card.color === 'orange',
                                        'text-sky-600 dark:text-sky-400': card.color === 'sky',
                                        'text-rose-600 dark:text-rose-400': card.color === 'rose',
                                        'text-indigo-600 dark:text-indigo-400': card.color === 'indigo',
                                        'text-blue-600 dark:text-blue-400': card.color === 'blue',
                                        'text-amber-600 dark:text-amber-400': card.color === 'amber',
                                        'text-green-600 dark:text-green-400': card.color === 'green',
                                        'text-cyan-600 dark:text-cyan-400': card.color === 'cyan',
                                        'text-emerald-600 dark:text-emerald-400': card.color === 'emerald',
                                        'text-slate-600 dark:text-slate-400': card.color === 'slate'
                                      }"></mat-icon>
                        </div>

                        <h3 class="mt-4 text-lg font-semibold">{{ card.title }}</h3>
                        <p class="mt-1 text-sm text-secondary">{{ card.description }}</p>
                    </a>

                </div>
            </ng-container>

        </div>

    </div>
</div>